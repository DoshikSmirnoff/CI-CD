# Этапность

Постановка задачи → Создание ветки → Написание кода → Создание PR (Pull/Merge request) → Когда все тесты успешно пройдены, нажимается Merge, начинается CD 
→ Сборка приложения → Публикация (Деплой) на тестовый/продакшн контур // Релиз

# PIPELINE
_- автоматизированный процесс, который состоит из последовательных шагов или этапов, выполняемых при изменении кода в репозитории_

### Состоит из стадий (Stages)
Например:
- Build (- сборка Docker-образа)
- Test (- проведение тестов кода)
- Deploy (- развертывание приложения)
Выполняются по порядку. Если одна из стадий падает, то Pipeline останавливается

### Задачи (Jobs) 
- конкретные задачи внутри стадии. Каждая задача - отдельный контейнер

### Скрипты (Script)
- команды, выполняемые внутри задач

### Условия (Rules)
Задают правила, когда мы запускаем задачу

# CI - CONTINUOUS INTEGRATION (непрерывная интеграция)

Это та часть, в которой наша часть кода сливается в общий репозиторий, запускается автоматическая сборка, различные валидаторы и тесты для проверки кода на корректность
После проверок, если они успешны, код интегрируется в главный код

## ЭТАПЫ
Все изменения (небольшие) кода вносятся в ветку fix/my-fix, в которой хранится копия приложения и в ней происходят все тесты/сборки
После пуша в ветку fix/my-fix она вливается в ветку dev. Там хранится тестовый вариант приложения без доступа к нему пользователей
В ветках dev/main (в них напрямую изменения не вносятся) разворачивается приложение 

Когда ветка fix/my-fix сливается с dev запускается процесс CI/CD
- CI включает сборку и тестирование
- CD включает сборку и развертывание



Происходят в крупных компаниях на отдельном сервере под CI (CI-серверы)
Если нету отдельного CI-сервера, то в таком случае процессы сборки и тестирования происходят на том же сервере, на котором хранится основное приложение

### СБОРКА

### ТЕСТИРОВАНИЕ

# CD - CONTINUOUS DELIVERY (непрерывная доставка)

После того, как новый блок кода успешно интегрировался в общий, начинается разворачивание 

### РЕЛИЗ
Здесь хранится релизная версия (файл/DOCKER-образ) приложения (протестированная, без багов), которая впоследствии разворачивается для всех пользователей. 
В больших компаниях здесь также имеется специальное хранилище (registry), где хранятся все старые DOCKER-образы приложения или DOCKER-образы другого микросервиса
